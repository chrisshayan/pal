<div class="middle-box text-center loginscreen  animated fadeInDown" ng-controller="ActivateCtrl">
    <div>
        <div>
            <h1 class="logo-name">PAL</h1>
        </div>
        <h3>Welcome to PAL</h3>
        <div class="row" ng-if="!ready">
            <div class="col-lg-12">
                <div class="spiner-example">
                    <div class="sk-spinner sk-spinner-rotating-plane"></div>
                </div>
            </div>
        </div>
        <form class="m-t" role="form" ng-submit="onChangePassword()" ng-show="ready">
            <div class="form-group">
                <input ng-readonly="true" name="email" type="email" class="form-control" placeholder="Email" required="" ng-model="email">
            </div>
            <div class="form-group">
                <input name="" type="password" class="form-control" placeholder="New password" required="" ng-model="new_password">
            </div>
            <div class="form-group">
                <input name="" type="password" class="form-control" placeholder="New password confirm" required="" ng-model="new_password_confirm">
            </div>
            <button type="submit" class="btn btn-primary block full-width m-b" ng-disabled="!ready || !new_password || new_password != new_password_confirm">Change Password</button>
            <a ng-if="testmode" ng-click="onDoTest()" class="btn btn-primary block full-width m-b">Test</a>
        </form>
        <p class="m-t"> <small>PAL &copy; 2015</small> </p>
    </div>

    <script type="text/ng-template" id="activate_modal.html">
        <div class="modal-header">
            <h3 class="modal-title">Update your profile</h3>
        </div>
        <div class="modal-body">
            <form role="form">
                <div class="form-group">
                    <label>Avatar (*)</label><br/>
                    <img style="cursor:pointer" ng-click="onChangeAvatar()" width="80px" ng-src="{{data.avatar || NO_AVATAR}}"/> <br/>
                    <a href="" ng-click="onChangeAvatar()">Upload</a>
                </div>
                <div class="form-group">
                    <label>First name (*)</label>
                    <input ng-readonly="isProcessing" ng-model="data.first_name" type="text" placeholder="First name" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>Last name (*)</label>
                    <input ng-readonly="isProcessing" ng-model="data.last_name" type="text" placeholder="Last name" class="form-control"/>
                </div>
                <div class="form-group">
                    <label>School</label>
                    <select class="form-control" ng-readonly="isProcessing" ng-model="data.school">
                        <option ng-repeat="n in schools" value="{{n.$id}}">{{n.name}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Year of Experience Teaching English (*)</label>
                    <select class="form-control" ng-readonly="isProcessing" ng-model="data.teaching_exp">
                        <option value="1">Less then 2 years</option>
                        <option value="2">2-5 years</option>
                        <option value="5">5-10 years</option>
                        <option value="11">more than 10 years</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>City</label>
                    <select class="form-control" ng-readonly="isProcessing" ng-model="data.city">
                        <option value="">Select city</option>
                        <option ng-repeat="n in cities" value="{{n.$id}}">{{n.en}}</option>
                    </select>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-disabled="isProcessing || !data.first_name || !data.last_name || !data.teaching_exp || !data.avatar" ng-click="onDone()">OK</button>
            <button class="btn btn-warning" type="button" ng-disabled="isProcessing" ng-click="cancel()">Skip</button>
        </div>
    </script>
</div>
